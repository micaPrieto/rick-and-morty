<div class="card bg-dark text-white border-secondary">
  <div class="card-body">

    <h5 class="card-title border-bottom pb-2">Lista de personajes que aparecen en el episodio</h5>

    <ul class="list-unstyled">
      <div *ngIf="characters as characters">
        <li *ngFor="let character of getDisplayedCharacters(); let i = index" class="episode-item mb-2">
          <div class="d-flex justify-content-between align-items-center">
            <a
              [routerLink]="['/characters', character.id]"
              class="episode-link"
              title="Ver detalle del personaje">
              <span class="episode-number character-number">{{ character.id }}</span>
              <span class="episode-name">{{ character.name }}</span>
            </a>
          </div>
        </li>

        <!-- Botón "Ver mas"  -->
        <li *ngIf="characters.length > initialDisplayCount" class="text-center mt-3">
          <button
            class="btn-show-more"
            (click)="toggleShowAll()"
            title="{{ showAll ? 'Mostrar menos' : 'Ver más personajes' }}">
            <i class="fas" [ngClass]="showAll ? 'fa-chevron-up' : 'fa-chevron-down'" class="me-1"></i>
            {{ showAll ? 'Mostrar menos' : 'Ver más (' + (characters.length - initialDisplayCount) + ')' }}
          </button>
        </li>
      </div>
    </ul>

  </div>
</div>
